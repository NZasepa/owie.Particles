!function(){"use strict";if("function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null===e)throw new Error("Cannot convert null to an object");for(var a=Object(e),i=1;i<arguments.length;i+=1){var r=arguments[i];if(null!==r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a}),"undefined"!=typeof OwieParticles)throw new Error("owie.Particles library already defined");window.OwieParticles=function(){var e={};return e=function(){function e(e,a){var i=this;if(i.defaults={selector:"img.owie-particles",wrapperElement:"div",wrapperClasses:[],wrapperScaleX:1.3,wrapperScaleY:1.3,wrapperScaleZ:1.8,particles:100,particlesElement:"div",particlesClasses:[],particlesMinWidth:10,particlesMaxWidth:80,particlesMinHeight:10,particlesMaxHeight:80,particlesMinRotateY:2,particlesMaxRotateY:2,particlesMinRotateX:2,particlesMaxRotateX:2,imageBoundaries:100,perspective:"100px"},i.initials={},Object.assign(i,i.initials),i.elements=e,i.options=Object.assign({},i.defaults,a),i.instanceUid=t+=1,!e||e instanceof NodeList){var r=e;if(r||(r=document.querySelectorAll(i.options.selector),i.element=r),r.length)for(var o=0;o<r.length;o+=1)i.init(r[o])}else i.init(e)}var t=0;return e}(),e.prototype.wrapImage=function(e){var t=this,a=e.cloneNode(!0),i=document.createElement(t.options.wrapperElement);if(i.classList.add("owie-particles-wrapper"),t.options.wrapperClasses.length)for(var r=0;r<t.options.wrapperClasses.length;r+=1)i.classList.add(t.options.wrapperClasses[r]);i.appendChild(a),e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),t.initParticlesWrapper(i.querySelector("img"))},e.prototype.initParticlesWrapper=function(e){var t=this,a=e.parentNode,i=document.createElement("div");i.classList.add("owie-particles-list"),i.style.webkitPerspective=t.options.perspective,i.style.perspective=t.options.perspective,i.style.webkitTransform="scale3d("+t.options.wrapperScaleX+", "+t.options.wrapperScaleY+", "+t.options.wrapperScaleZ+")",i.style.transform="scale3d("+t.options.wrapperScaleX+", "+t.options.wrapperScaleY+", "+t.options.wrapperScaleZ+")",a.appendChild(i),t.initParticles(e),console.log("generate")},e.prototype.initParticles=function(e){for(var t=this,a=e.offsetWidth,i=e.offsetHeight,r=e.parentNode,o=r.querySelector(".owie-particles-list"),s=t.options.particles,p=0;p<s;p+=1){var n=document.createElement(t.options.particlesElement);if(n.classList.add("owie-particle"),t.options.particlesClasses.length)for(var l=0;l<t.options.particlesClasses.length;l+=1)n.classList.add(t.options.particlesClasses[l]);var c=Math.floor(Math.random()*t.options.particlesMaxWidth)+t.options.particlesMinWidth,d=Math.floor(Math.random()*t.options.particlesMaxHeight)+t.options.particlesMinHeight,h=Math.random()*a,f=Math.random()*i,w=Math.random(),g=Math.floor(Math.random()*(t.options.particlesMaxRotateX+1))-t.options.particlesMinRotateX,u=Math.floor(Math.random()*(t.options.particlesMaxRotateY+1))-t.options.particlesMinRotateY;w=w<.4?w+=.4:w,a<h+c&&(h-=c),i<f+d&&(f-=d),Object.assign(n.style,{position:"absolute",left:h+"px",top:f+"px",width:c+"px",height:d+"px",backgroundImage:"url("+e.src+")",backgroundPositionX:"-"+h+"px",backgroundPositionY:"-"+f+"px",backgroundSize:a+"px",transform:"rotateX("+g+"deg) rotateY("+u+"deg)",opacity:w,boxShadow:"10px 5px 10px rgba(0,0,0,0.5)"}),o.appendChild(n)}},e.prototype.init=function(t){var a=this;t.complete?a.wrapImage(t):t.addEventListener("load",e.prototype.wrapImage.call(a,t))},e}()}();